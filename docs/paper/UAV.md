# 无人机

## 多无人机协同任务分配

### 异构多UAV攻击多目标的任务分配问题

以部署在多个机场的多架不同型号UAV对多个地面目标进行攻击为背景研究多无人机协同任务分配问题。由于UAV携带的武器、平台性能和战术使用条件不同，对不同目标的毁伤概率不同，其作战效果和代价不同。多UAV协同任务分配问题的目标就是确定哪些UAV攻击哪些目标或执行哪些任务，使得多UAV系统的作战效能最高，从而形成UAV初始编队配置和路径。它是一个多约束的多目标优化问题。

- 优化目标包括：目标价值收益最大、飞行距离最小、耗弹量成本最小和目标覆盖度最大
- 约束条件包括：兵力限制；目标必须在UAV的作战半径之内；对目标的毁伤程度达到一定阈值以上；对同一目标攻击的UAV数目不应超过一定限制；满足各种禁/避飞区约束等。

**1.问题分析**，考虑到禁/避飞区约束，UAV可以经由不同的路径从各机场飞抵各个任务区，任务区即是由UAV所携带武器的型号和目标特征所决定的武器投放的区域。这样，到达路径终点的任务区即可确定武器型号和目标。如果一架UAV选择了某一路径，也即选择了存在于该路径上的目标以及攻击该目标的武器。这样，多UAV协同对地打击的任务分配问题转化为如何在UAV中分配这些路径，然后根据路径确定UAV的挂载武器和攻击目标，并根据目标相似度或者机场相似度进一步确定UAV编队，使得多UAV系统整体的作战效能最大。

**2.决策变量设计**，记UAV数量为$N$,目标数目为$J$,机场数目为$M$,机场和任务区之间所形成的可能路径数目为$P$,为了减少决策变量数目，对所有UAV按照其所属机场和型号分为$L$个类型，即同一类型的UAV指其同属同一个机场且具有相同型号，UAV类型的划分如下表所列。

![DJJVbT.png](https://s3.ax1x.com/2020/11/23/DJJVbT.png)

多UAV协同任务分配问题的约束条件、作战效能与代价都取决于将哪条路径分配给哪些UAV,因而决策变量可以设计为分配给某条路径的UAV的数量：

$x_{lp}$：选择路径$P$的$l$类型UAV的数量，为整数，$l=1,2, \cdots, L; p=1,2,\cdots,P$。因此，该问题可以归结为整数规划问题[^1]

[^1]:叶媛媛，闵春平，朱华勇，等。基于整数规划的多UCAV任务分配问题研究[J]。信息与控制，2005,34(5)：548-552.

**3.目标函数设计**，目标函数主要包括：

- 目标价值收益$f_1$。多UAV协同作战应该尽可能地攻击高价值的目标，其指标函数是待攻击目标的价值的函数。
- 飞行距离$f_2$。UAV执行任务飞行距离越长,燃油消耗越多，且执行任务时间变长，途中非作战损失的可能性越大，因此，要使整个UAV飞行距离倾向于尽可能小。
- 耗弹量成本$f_3$。由于各种武器造价不同，如果两种型号的武器对同一子目标能够达到相近的攻击效果,则优先选择造价低廉的武器。
- 目标覆盖度$f_4$。多UAV作战协同性的一个重要体现是在有限的兵力内，保证对目标达到一定毁伤度的前提下攻击尽可能多的目标,实现多UAV协同作战对目标的覆盖度最大化。

**4.约束条件形式化**，形式化的约束条件包括：

- 任务兵力数量约束$c_1$。每一个机场部署的兵力是一定的，因此每一种类型的UAV的出动数目不能超过所部署的该类型UAV数目；
- UAV作战半径约束$C_2$。多UAV协同执行任务时受到其作战半径的约束，在任务分配中必须保证UAV飞行的距离在其作战半径的范围之内；
- 对目标毁伤度的约束$C_3$。记行矢量$Q={Q_1,Q_2,\cdots,Q_J}$为对目标的毁伤度阈值，则攻击目标$j$的UAV对目标的毁伤度应该不小于指定的毁伤度阈值；
- 攻击目标的UAV数目约束多UAV协同的作战效果不仅取决于单架UAV的作战效能和对单个目标的毁伤度，更主要的在于多UAV系统的整体作战效果，即期望对单个目标达到一定毁伤度的同时，能够覆盖尽量多的目标。记行矢量$N_A=\{N_{A1}, N_{A2}, \cdots, N_{AJ}\}$为所允许的对同一目标攻击的UAV数目的阈值，则同时攻击一个子目标的UAV数目应该不超过给定阈值。

上述4个目标函数相互之间都存在潜在的冲突，不可能同时达到最优值，同时包括非线性约束。

### 多无人机带时序的多任务分配问题

> 复杂的战场环境可能存在多种类型的任务，不同任务之间在先后顺序和执行时间上有较强的依赖关系[^2]。多无人机多任务分配问题的目标是在UAV性能允许的范围内，针对多类任务需求，确定出各U A V的任务序列，包括任务目标集合、执行任务的类型以及不同任务的执行顺序，以确保多UAV在多任务执行过程中的协同性，约束条件包括UA V飞行性能约束、任务类型约束、任务时序约束等。

[^2]:席裕庚。动态不确定环境下广义控制问题的预测控制[J]。控制理论与应用，2000,17(5)：665-670.

**1.问题描述**，多无人机多任务分配问题中的相关要素可以用一个五元组$\{ E, V, Target, Task, C \}$表示

- $C$为约束条件集合，
- $E=\{ Menace, Forbid \}$为战场环境，$Menace=\{ Menace_1, Menace_2, \cdots, Menace_{N_p} \}$为战场环境中的威胁源集合，$Forbid=\{ Forbid_1, Forbid_2, \cdots, Forbid_{N_F} \}$为禁/避飞区集合；
- $V=\{ V_1, V_2, \cdots, V_{N_V} \}$为执行任务的无人机集合，$N_V$为无人机数量；
- $Target=\{ Target_1, Target_2, \cdots, Target_{N_T} \}$为已经发现的目标集合，$N_T$为目标数量;
- $Task=\{ Task_1, Task_2, \cdots, Task_{N_M} \}$为U A V的任务集合，$N_M$为任务的总数量；每一个任务包括两方面的属性，即任务目标和任务类型，即$Task_i=\{Target_j, Tasktype_j \}$，其中$Tasktype_j \in Tasktype$, 而$Tasktype=\{Tasktype_1,\cdots, Tasktype_{N_type}$为每个目标上UAV需要完成的任务类型集合，$N_{type}$为任务类型的数量，则有$N_M \le (N_T \times N_{type})$。

在目标上主要考虑3类典型任务，分别是侦察、攻击、毁伤评估，即$Tasktype=\{ Classify(Target_j), Attack(Target_j), Vertify(Target_j) \}$，且完成不同类型的任务需要不同的基本条件: 
- 侦察任务$Classify(Target_j)$的前提是其飞行航路经过目标$Target_j$所处的区域；
- 攻击任务$Attack(Target_j)$发生在目标$Target_j$被侦察识别之后，且U A V与目标的距离必须满足武器发射距离要求时；
- 毁伤评估任务$Vertify(Target_j)_$发生在目标$Target_j$被攻击之后。

**2.多无人机多任务分配约束条件**, 多无人机多任务分配问题约束条件众多，主要包括任务时序约束、任务时间约束、无人机任务类型及能力约束、多机协同约束、航路可飞性约束等五方面。

*任务时序约束*, 果不同任务$Task_i$和$Task_j$之间必须按照特定顺序完成，表示$Task_i$和$Task_j$之间存在任务时序约束，如果$Task_i$必须在$Task_j$之前执行，则$Task_i$为$Task_j$的前续任务，$Task_j$的前续任务集合记为$Prev(Task_j)$, $Task_j$为$Task_i$的后继任务，$Task_i$的后继任务集合记为$Next(Task_i)$。任务间时序约束可表达为一种偏序关系$(MS,<)$，$MS$为具有该偏序关系的任务集合。

*任务时间约束*, 如果某个任务必须在指定的时间范围内完成，则称该任务具有时间约束。在无人机协同多任务分配问题中，任务的时间约束通常对具有机动能力的动态目标存在，且往往建立在时序约束的基础上。如对敌方隐蔽机动目标的攻击任务，设对目标的侦察任务在$t_1$时刻执行，则对该目标的攻击任务应在侦察任务执行之后的一个时间段$[t_1+\delta t_{\min}, t_1+\delta t_{\max}]$内完成，$\delta t_{\min}$为无人机执行后续任务的最短时间间隔，其值通常取决于目标侦察情报综合处理的复杂程度和时间消耗，$\delta t_{\max}$为执行后续任务的最大时间间隔，超过该时间限制，目标状态将发生改变(如机动导弹发射器移动至其他战场位置)，导致任务失效。

*无人机任务类型及能力约束*, 无人机任务类型及能力约束是指对单架无人机，其机上携带的任务载荷和自身续航能力是有限的，所能完成的任务类型及数量受其任务载荷限制，也是有限的。在无人机协同多任务分配问题中，由于单架无人机所能完成的任务类型和数量有限，故特定的无人机只能执行任务集合中与自身能力相符合的任务，且其任务过程不能超过自身最大任务数量限制和飞行航程限制，超出自身能力范围的任务就必须交由其他无人机执行。

*多机协同约束*, 务集合中的任何一个任务只能被完成一次，除非在预先的任务需求中对某个特定的目标指定了多次任务或者该任务没能顺利完成。

*航路可飞性约束*, UAV按照任务分配计划执行任务的过程中，由当前任务转移到下一任务所经过的飞行航路必须具有可飞性，即飞行航路必须满足UAV的飞行性能约束、战场环境约束和安全性约束。航路可飞性约束是任务分配计划能够为UAV所执行的先决条件。

**3.任务分配评价指标**, 任务分配的优劣程度可以通过多种评价指标予以表达。在多无人机多任务分配问题中，通常采用无人机集合完成其任务分配计划中所有任务所需的总飞行航程和任务分配计划中包含的任务数量两种指标进行评价。

- 任务总飞行航程指标, 通过任务总飞行航程最小化，可以使多无人机系统执行任务的资源消耗(如燃油消耗等)达到最小。
- 完成任务数量指标, 多无人机多任务分配的另一个目标是在满足约束条件的前提下，使得无人机集合的任务分配计划完成任务数量最大化。